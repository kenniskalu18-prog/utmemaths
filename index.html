<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UTME Mathematics A-SERIES Quiz</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0c2461, #1e3799, #4a69bd);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            background-attachment: fixed;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.97);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
            position: relative;
            overflow: hidden;
        }
        
        .logo-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .logo {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid #0c2461;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .brand-title {
            display: flex;
            flex-direction: column;
        }
        
        h1 {
            color: #0c2461;
            font-size: 2.2rem;
            margin-bottom: 5px;
            background: linear-gradient(to right, #0c2461, #4a69bd);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .series-tag {
            display: inline-block;
            background: linear-gradient(to right, #e74c3c, #e67e22);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 10px;
            align-self: flex-start;
        }
        
        .subject {
            color: #e74c3c;
            font-weight: bold;
            font-size: 1.3rem;
            margin-top: 5px;
        }
        
        .contact-info {
            text-align: right;
            padding: 10px;
            background: rgba(12, 36, 97, 0.1);
            border-radius: 10px;
        }
        
        .contact-info p {
            color: #0c2461;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .whatsapp-number {
            color: #25D366;
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .subtitle {
            color: #555;
            font-size: 1.1rem;
            margin-top: 10px;
        }
        
        .floating-icons {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
        }
        
        .floating-icons i {
            position: absolute;
            color: rgba(12, 36, 97, 0.15);
            font-size: 28px;
            animation: float 8s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-25px) rotate(15deg); }
        }
        
        .quiz-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .quiz-btn {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.85));
            border: none;
            border-radius: 15px;
            padding: 30px 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            border: 3px solid transparent;
            background-clip: padding-box;
        }
        
        .quiz-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 15px;
            padding: 3px;
            background: linear-gradient(145deg, #0c2461, #4a69bd);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .quiz-btn:hover {
            transform: translateY(-12px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.25);
        }
        
        .quiz-btn:hover::before {
            opacity: 1;
        }
        
        .quiz-btn i {
            font-size: 3rem;
            margin-bottom: 20px;
            background: linear-gradient(to right, #0c2461, #4a69bd);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .quiz-btn h3 {
            color: #0c2461;
            margin-bottom: 15px;
            font-size: 1.7rem;
        }
        
        .quiz-btn p {
            color: #666;
            font-size: 1rem;
            line-height: 1.5;
        }
        
        .quiz-count {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(to right, #e74c3c, #e67e22);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .quiz-container {
            background: rgba(255, 255, 255, 0.97);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            display: none;
            margin-bottom: 30px;
        }
        
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 3px solid #eee;
        }
        
        .quiz-title {
            font-size: 1.9rem;
            color: #0c2461;
        }
        
        .quiz-progress {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }
        
        .question-number {
            font-size: 1.2rem;
            color: #555;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .progress-bar {
            width: 200px;
            height: 12px;
            background-color: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(to right, #0c2461, #4a69bd);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }
        
        .question {
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            border-left: 6px solid #4a69bd;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
        }
        
        .question-text {
            font-size: 1.3rem;
            line-height: 1.6;
            margin-bottom: 10px;
            color: #333;
            font-weight: 500;
        }
        
        .math-expression {
            font-size: 1.2rem;
            margin: 15px 0;
            padding: 10px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            border-left: 4px solid #e74c3c;
            overflow-x: auto;
            font-family: 'Cambria Math', 'Times New Roman', serif;
        }
        
        .matrix {
            display: inline-block;
            margin: 5px;
            vertical-align: middle;
        }
        
        .matrix .row {
            display: flex;
            justify-content: center;
        }
        
        .matrix .element {
            padding: 3px 8px;
            border: 1px solid #ccc;
            margin: 1px;
            min-width: 30px;
            text-align: center;
        }
        
        .matrix .bracket {
            font-size: 1.8rem;
            font-weight: bold;
            padding: 0 5px;
            vertical-align: middle;
        }
        
        .question-year {
            display: inline-block;
            background: linear-gradient(to right, #0c2461, #4a69bd);
            color: white;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }
        
        @media (min-width: 768px) {
            .options {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        .option {
            background: white;
            border: 2px solid #ddd;
            border-radius: 12px;
            padding: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }
        
        .option:hover {
            background: #f0f7ff;
            border-color: #0c2461;
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(12, 36, 97, 0.1);
        }
        
        .option.selected {
            background: #e6f7ff;
            border-color: #4a69bd;
        }
        
        .option.correct {
            background: #e7f7e7;
            border-color: #4CAF50;
        }
        
        .option.incorrect {
            background: #ffe6e6;
            border-color: #f44336;
        }
        
        .option-label {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 35px;
            height: 35px;
            background: #eee;
            border-radius: 50%;
            margin-right: 20px;
            font-weight: bold;
            color: #555;
            flex-shrink: 0;
            font-size: 1.1rem;
        }
        
        .option.selected .option-label {
            background: #4a69bd;
            color: white;
        }
        
        .option.correct .option-label {
            background: #4CAF50;
            color: white;
        }
        
        .option.incorrect .option-label {
            background: #f44336;
            color: white;
        }
        
        .quiz-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }
        
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 1rem;
        }
        
        .btn-prev {
            background: #f8f9fa;
            color: #555;
            border: 2px solid #ddd;
        }
        
        .btn-prev:hover {
            background: #e9ecef;
            transform: translateY(-3px);
        }
        
        .btn-next {
            background: linear-gradient(to right, #0c2461, #4a69bd);
            color: white;
        }
        
        .btn-next:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 20px rgba(12, 36, 97, 0.3);
        }
        
        .btn-submit {
            background: linear-gradient(to right, #4CAF50, #2E7D32);
            color: white;
        }
        
        .btn-submit:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(76, 175, 80, 0.3);
        }
        
        .btn-return {
            background: #f8f9fa;
            color: #555;
            border: 2px solid #ddd;
            margin-right: 15px;
        }
        
        .btn-return:hover {
            background: #e9ecef;
            transform: translateY(-3px);
        }
        
        .result-container {
            background: rgba(255, 255, 255, 0.97);
            border-radius: 15px;
            padding: 35px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            display: none;
            margin-bottom: 30px;
        }
        
        .result-header {
            text-align: center;
            margin-bottom: 35px;
        }
        
        .result-title {
            font-size: 2.3rem;
            color: #0c2461;
            margin-bottom: 15px;
        }
        
        .score-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 40px;
        }
        
        .score-circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(135deg, #0c2461, #4a69bd);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            box-shadow: 0 15px 35px rgba(12, 36, 97, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .score-circle::before {
            content: '';
            position: absolute;
            width: 180px;
            height: 180px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .score-value {
            font-size: 3.8rem;
            font-weight: bold;
            z-index: 1;
        }
        
        .score-label {
            font-size: 1.3rem;
            opacity: 0.9;
            z-index: 1;
        }
        
        .result-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .strengths, .weaknesses {
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
        }
        
        .result-section-title {
            font-size: 1.5rem;
            color: #0c2461;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #eee;
        }
        
        .topic-list {
            list-style-type: none;
        }
        
        .topic-list li {
            padding: 12px 0;
            border-bottom: 1px dashed #ddd;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .topic-list li:last-child {
            border-bottom: none;
        }
        
        .topic-score {
            background: #0c2461;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        .feedback-container {
            margin-top: 40px;
        }
        
        .feedback-title {
            font-size: 1.6rem;
            color: #0c2461;
            margin-bottom: 25px;
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 2px solid #eee;
        }
        
        .feedback-item {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid #4a69bd;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .feedback-question {
            font-weight: bold;
            margin-bottom: 12px;
            color: #333;
            font-size: 1.1rem;
        }
        
        .feedback-answer {
            margin-bottom: 8px;
            color: #555;
            line-height: 1.5;
        }
        
        .feedback-correct {
            color: #4CAF50;
            font-weight: bold;
        }
        
        .feedback-incorrect {
            color: #f44336;
            font-weight: bold;
        }
        
        footer {
            text-align: center;
            padding: 25px;
            color: white;
            margin-top: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .footer-contact {
            margin-top: 15px;
            font-size: 1.1rem;
        }
        
        .footer-contact a {
            color: #25D366;
            text-decoration: none;
            font-weight: bold;
        }
        
        /* Responsive adjustments */
        @media (max-width: 992px) {
            .header-container {
                flex-direction: column;
                text-align: center;
                gap: 20px;
            }
            
            .logo-section {
                flex-direction: column;
                text-align: center;
            }
            
            .contact-info {
                text-align: center;
                width: 100%;
            }
            
            .quiz-progress {
                align-items: flex-start;
                margin-top: 15px;
            }
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 1.9rem;
            }
            
            .quiz-btn h3 {
                font-size: 1.5rem;
            }
            
            .quiz-container, .result-container {
                padding: 20px;
            }
            
            .quiz-title {
                font-size: 1.6rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .score-circle {
                width: 170px;
                height: 170px;
            }
            
            .score-value {
                font-size: 3rem;
            }
            
            .result-details {
                grid-template-columns: 1fr;
            }
            
            .quiz-controls {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn {
                width: 100%;
                margin-bottom: 10px;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 1.7rem;
            }
            
            .quiz-selector {
                grid-template-columns: 1fr;
            }
            
            .question {
                padding: 20px;
            }
            
            .option {
                padding: 15px;
            }
        }
        
        /* Math expression styling */
        .katex {
            font-size: 1.2em !important;
        }
        
        .katex-display {
            margin: 1em 0 !important;
            overflow-x: auto;
            overflow-y: hidden;
        }
        
        sup, sub {
            font-size: 0.8em;
        }
        
        .fraction {
            display: inline-block;
            vertical-align: middle;
            text-align: center;
        }
        
        .fraction span {
            display: block;
        }
        
        .fraction .numerator {
            border-bottom: 1px solid #000;
            padding: 0 5px;
        }
        
        .fraction .denominator {
            padding: 0 5px;
        }
        
        .math-symbol {
            font-family: 'Cambria Math', 'Times New Roman', serif;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header-container">
            <div class="floating-icons">
                <i class="fas fa-calculator" style="top: 15%; left: 5%; animation-delay: 0s;"></i>
                <i class="fas fa-square-root-alt" style="top: 10%; right: 10%; animation-delay: 1s;"></i>
                <i class="fas fa-chart-line" style="bottom: 25%; left: 8%; animation-delay: 2s;"></i>
                <i class="fas fa-shapes" style="bottom: 15%; right: 12%; animation-delay: 3s;"></i>
                <i class="fas fa-infinity" style="top: 60%; left: 5%; animation-delay: 4s;"></i>
                <i class="fas fa-function" style="top: 70%; right: 8%; animation-delay: 5s;"></i>
                <i class="fas fa-angle" style="top: 40%; left: 15%; animation-delay: 6s;"></i>
                <i class="fas fa-chart-pie" style="top: 50%; right: 20%; animation-delay: 7s;"></i>
            </div>
            
            <div class="logo-section">
                <img src="https://i.ibb.co/fG99dRGn/IMG-20260117-090402.jpg" alt="A-SERIES Logo" class="logo">
                <div class="brand-title">
                    <div class="series-tag">A-SERIES</div>
                    <h1>UTME MATHEMATICS QUIZ MASTER</h1>
                    <div class="subject">Comprehensive Mathematics Preparation</div>
                    <p class="subtitle">Master all 5 sections of UTME Mathematics syllabus</p>
                </div>
            </div>
            
            <div class="contact-info">
                <p>Need help? Contact us on WhatsApp:</p>
                <div class="whatsapp-number">+234 818 013 3618</div>
                <div class="whatsapp-number">+234 916 938 4267</div>
            </div>
        </div>
        
        <div class="quiz-selector" id="quizSelector">
            <div class="quiz-btn" data-quiz="1">
                <div class="quiz-count">50 Questions</div>
                <i class="fas fa-calculator"></i>
                <h3>Quiz 1: Number & Algebra</h3>
                <p>Covers number bases, fractions, indices, logarithms, sets, polynomials, variation, inequalities, progressions, binary operations, matrices.</p>
            </div>
            <div class="quiz-btn" data-quiz="2">
                <div class="quiz-count">50 Questions</div>
                <i class="fas fa-shapes"></i>
                <h3>Quiz 2: Geometry & Trigonometry</h3>
                <p>Focuses on Euclidean geometry, mensuration, loci, coordinate geometry, trigonometric ratios, bearings, sine and cosine formulae.</p>
            </div>
            <div class="quiz-btn" data-quiz="3">
                <div class="quiz-count">50 Questions</div>
                <i class="fas fa-chart-line"></i>
                <h3>Quiz 3: Calculus & Statistics</h3>
                <p>Comprehensive coverage of differentiation, integration, statistics, probability, permutations, combinations, and data representation.</p>
            </div>
        </div>
        
        <div class="quiz-container" id="quizContainer">
            <div class="quiz-header">
                <h2 class="quiz-title" id="quizTitle">Quiz 1: Number & Algebra</h2>
                <div class="quiz-progress">
                    <div class="question-number" id="questionNumber">Question 1 of 50</div>
                    <div class="progress-bar">
                        <div class="progress" id="progressBar"></div>
                    </div>
                </div>
            </div>
            
            <div class="question">
                <span class="question-year" id="questionYear">JAMB 2021</span>
                <p class="question-text" id="questionText"></p>
                <div id="mathExpression" class="math-expression"></div>
            </div>
            
            <div class="options" id="optionsContainer">
                <!-- Options will be generated here -->
            </div>
            
            <div class="quiz-controls">
                <button class="btn btn-prev" id="prevBtn">Previous Question</button>
                <div>
                    <button class="btn btn-return" id="returnBtn">Return to Menu</button>
                    <button class="btn btn-next" id="nextBtn">Next Question</button>
                    <button class="btn btn-submit" id="submitBtn" style="display: none;">Submit Quiz</button>
                </div>
            </div>
        </div>
        
        <div class="result-container" id="resultContainer">
            <div class="result-header">
                <h2 class="result-title" id="resultTitle">Quiz Results</h2>
                <p>Detailed analysis of your performance</p>
            </div>
            
            <div class="score-container">
                <div class="score-circle">
                    <div class="score-value" id="scoreValue">0%</div>
                    <div class="score-label">Your Score</div>
                </div>
            </div>
            
            <div class="result-details">
                <div class="strengths">
                    <h3 class="result-section-title">Your Strengths</h3>
                    <ul class="topic-list" id="strengthsList">
                        <!-- Strengths will be added here -->
                    </ul>
                </div>
                
                <div class="weaknesses">
                    <h3 class="result-section-title">Areas for Improvement</h3>
                    <ul class="topic-list" id="weaknessesList">
                        <!-- Weaknesses will be added here -->
                    </ul>
                </div>
            </div>
            
            <div class="feedback-container" id="feedbackContainer">
                <h3 class="feedback-title">Question Feedback</h3>
                <!-- Feedback will be added here -->
            </div>
            
            <div style="text-align: center; margin-top: 40px;">
                <button class="btn btn-return" id="returnToMenuBtn">Return to Quiz Menu</button>
            </div>
        </div>
        
        <footer>
            <p>UTME Mathematics A-SERIES Quiz System &copy; 2023 | Based on UTME Mathematics Syllabus</p>
            <div class="footer-contact">
                <p>For inquiries: 
                    <a href="https://wa.me/2348180133618" target="_blank">+234 818 013 3618</a> | 
                    <a href="https://wa.me/2349169384267" target="_blank">+234 916 938 4267</a>
                </p>
            </div>
            <p>Designed to help you excel in your UTME Mathematics examination</p>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
    <script>
        // Helper function to format mathematical expressions
        function formatMathExpression(expression) {
            // Replace LaTeX with readable text
            let formatted = expression
                .replace(/\\begin\{bmatrix\}/g, '[')
                .replace(/\\end\{bmatrix\}/g, ']')
                .replace(/\\\\/g, '; ')
                .replace(/&/g, ', ')
                .replace(/\\times/g, '×')
                .replace(/\\div/g, '÷')
                .replace(/\\sqrt\{(\d+)\}/g, '√$1')
                .replace(/\\frac\{(\d+)\}\{(\d+)\}/g, '$1/$2')
                .replace(/\^(\d+)/g, '<sup>$1</sup>')
                .replace(/_(\d+)/g, '<sub>$1</sub>')
                .replace(/log_(\d+)/g, 'log<sub>$1</sub>')
                .replace(/\\det/g, 'det')
                .replace(/\\int/g, '∫')
                .replace(/\\infty/g, '∞')
                .replace(/\\pi/g, 'π')
                .replace(/\\theta/g, 'θ')
                .replace(/\\sin/g, 'sin')
                .replace(/\\cos/g, 'cos')
                .replace(/\\tan/g, 'tan')
                .replace(/\\sec/g, 'sec')
                .replace(/\\csc/g, 'csc')
                .replace(/\\cot/g, 'cot')
                .replace(/\\ln/g, 'ln');
            
            return formatted;
        }

        // Helper function to create matrix display
        function createMatrixDisplay(matrixStr) {
            if (!matrixStr) return '';
            
            // Extract matrix elements
            const match = matrixStr.match(/\[(.*?)\]/);
            if (!match) return matrixStr;
            
            const elements = match[1].split(';').map(row => row.split('&').map(cell => cell.trim()));
            
            let html = '<div class="matrix">';
            html += '<span class="bracket">[</span>';
            html += '<div class="matrix-content">';
            
            elements.forEach(row => {
                html += '<div class="row">';
                row.forEach(cell => {
                    html += `<div class="element">${cell}</div>`;
                });
                html += '</div>';
            });
            
            html += '</div>';
            html += '<span class="bracket">]</span>';
            html += '</div>';
            
            return html;
        }

        // Quiz data - 3 quizzes with 50 questions each
        const quizzes = {
            1: {
                title: "Number & Algebra",
                questions: [
                    {
                        year: "JAMB 2021",
                        text: "Convert 1011₂ to base 10:",
                        mathExpression: "1011₂ = ?₁₀",
                        options: [
                            "9",
                            "10",
                            "11",
                            "12"
                        ],
                        correct: 2,
                        explanation: "1×2³ + 0×2² + 1×2¹ + 1×2⁰ = 8 + 0 + 2 + 1 = 11",
                        topic: "Number bases"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Simplify: 3² × 3⁴ ÷ 3³",
                        mathExpression: "3² × 3⁴ ÷ 3³",
                        options: [
                            "3²",
                            "3³",
                            "3⁴",
                            "3⁵"
                        ],
                        correct: 1,
                        explanation: "Using laws of indices: 3²⁺⁴⁻³ = 3³",
                        topic: "Indices"
                    },
                    {
                        year: "JAMB 2020",
                        text: "If log₁₀2 = 0.3010 and log₁₀3 = 0.4771, find log₁₀6:",
                        mathExpression: "log₁₀6 = ?",
                        options: [
                            "0.7781",
                            "0.6821",
                            "0.7782",
                            "0.6822"
                        ],
                        correct: 0,
                        explanation: "log₁₀6 = log₁₀(2×3) = log₁₀2 + log₁₀3 = 0.3010 + 0.4771 = 0.7781",
                        topic: "Logarithms"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Solve for x: 2ˣ = 16",
                        mathExpression: "2ˣ = 16",
                        options: [
                            "2",
                            "3",
                            "4",
                            "5"
                        ],
                        correct: 2,
                        explanation: "16 = 2⁴, so 2ˣ = 2⁴ ⇒ x = 4",
                        topic: "Exponential equations"
                    },
                    {
                        year: "JAMB 2023",
                        text: "If U = {1,2,3,4,5,6}, A = {2,4,6}, find A':",
                        mathExpression: "A' = ?",
                        options: [
                            "{1,3,5}",
                            "{2,4,6}",
                            "{1,2,3}",
                            "{4,5,6}"
                        ],
                        correct: 0,
                        explanation: "A' (complement of A) contains elements in U but not in A = {1,3,5}",
                        topic: "Sets"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Factorize completely: x² - 5x + 6",
                        mathExpression: "x² - 5x + 6",
                        options: [
                            "(x-2)(x-3)",
                            "(x+2)(x+3)",
                            "(x-1)(x-6)",
                            "(x+1)(x+6)"
                        ],
                        correct: 0,
                        explanation: "Find two numbers that multiply to 6 and add to -5: -2 and -3, so (x-2)(x-3)",
                        topic: "Factorization"
                    },
                    {
                        year: "JAMB 2021",
                        text: "If y varies directly as x and y = 15 when x = 5, find y when x = 8:",
                        mathExpression: "y ∝ x, y=15 when x=5, find y when x=8",
                        options: [
                            "18",
                            "20",
                            "22",
                            "24"
                        ],
                        correct: 3,
                        explanation: "y = kx, 15 = k×5 ⇒ k = 3, y = 3×8 = 24",
                        topic: "Variation"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Solve the inequality: 3x - 7 < 8",
                        mathExpression: "3x - 7 < 8",
                        options: [
                            "x < 5",
                            "x > 5",
                            "x < 15",
                            "x > 15"
                        ],
                        correct: 0,
                        explanation: "3x - 7 < 8 ⇒ 3x < 15 ⇒ x < 5",
                        topic: "Inequalities"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Find the 10th term of the AP: 3, 7, 11, 15, ...",
                        mathExpression: "AP: 3, 7, 11, 15, ...",
                        options: [
                            "35",
                            "37",
                            "39",
                            "41"
                        ],
                        correct: 2,
                        explanation: "a = 3, d = 4, Tₙ = a + (n-1)d, T₁₀ = 3 + (9×4) = 3 + 36 = 39",
                        topic: "Arithmetic progression"
                    },
                    {
                        year: "JAMB 2023",
                        text: "If a*b = a + b - ab, find 3*2:",
                        mathExpression: "a*b = a + b - ab",
                        options: [
                            "-1",
                            "1",
                            "5",
                            "7"
                        ],
                        correct: 0,
                        explanation: "3*2 = 3 + 2 - (3×2) = 5 - 6 = -1",
                        topic: "Binary operations"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Find the determinant of the matrix:",
                        mathExpression: "det [2 3; 1 4]",
                        options: [
                            "5",
                            "6",
                            "7",
                            "8"
                        ],
                        correct: 0,
                        explanation: "ad - bc = (2×4) - (3×1) = 8 - 3 = 5",
                        topic: "Matrices"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Express 0.00045 in standard form:",
                        mathExpression: "0.00045 = ?",
                        options: [
                            "4.5 × 10⁻⁴",
                            "4.5 × 10⁻³",
                            "4.5 × 10⁻⁵",
                            "4.5 × 10⁻⁶"
                        ],
                        correct: 0,
                        explanation: "Move decimal 4 places right: 4.5 × 10⁻⁴",
                        topic: "Standard form"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Simplify: √12 + √27",
                        mathExpression: "√12 + √27",
                        options: [
                            "5√3",
                            "7√3",
                            "2√3 + 3√3",
                            "5√2"
                        ],
                        correct: 0,
                        explanation: "√12 = 2√3, √27 = 3√3, sum = 5√3",
                        topic: "Surds"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Solve: 5ˣ⁺¹ = 25ˣ⁻¹",
                        mathExpression: "5ˣ⁺¹ = 25ˣ⁻¹",
                        options: [
                            "2",
                            "3",
                            "4",
                            "5"
                        ],
                        correct: 1,
                        explanation: "5ˣ⁺¹ = (5²)ˣ⁻¹ = 5²ˣ⁻² ⇒ x+1 = 2x-2 ⇒ x = 3",
                        topic: "Exponential equations"
                    },
                    {
                        year: "JAMB 2022",
                        text: "If n(P) = 20, n(Q) = 30, and n(P∩Q) = 10, find n(P∪Q):",
                        mathExpression: "n(P∪Q) = ?",
                        options: [
                            "30",
                            "40",
                            "50",
                            "60"
                        ],
                        correct: 1,
                        explanation: "n(P∪Q) = n(P) + n(Q) - n(P∩Q) = 20 + 30 - 10 = 40",
                        topic: "Set theory"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Find the remainder when x³ - 2x² + 3x - 4 is divided by (x-1):",
                        mathExpression: "x³ - 2x² + 3x - 4 ÷ (x-1)",
                        options: [
                            "-2",
                            "-1",
                            "0",
                            "2"
                        ],
                        correct: 0,
                        explanation: "Using remainder theorem: f(1) = 1³ - 2(1)² + 3(1) - 4 = 1 - 2 + 3 - 4 = -2",
                        topic: "Remainder theorem"
                    },
                    {
                        year: "JAMB 2024",
                        text: "If y varies inversely as x and y = 4 when x = 6, find y when x = 8:",
                        mathExpression: "y ∝ 1/x, y=4 when x=6",
                        options: [
                            "2",
                            "3",
                            "4",
                            "5"
                        ],
                        correct: 1,
                        explanation: "y = k/x, 4 = k/6 ⇒ k = 24, y = 24/8 = 3",
                        topic: "Inverse variation"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Solve: x² - 3x - 10 > 0",
                        mathExpression: "x² - 3x - 10 > 0",
                        options: [
                            "x < -2 or x > 5",
                            "-2 < x < 5",
                            "x < -5 or x > 2",
                            "-5 < x < 2"
                        ],
                        correct: 0,
                        explanation: "(x-5)(x+2) > 0 ⇒ critical points -2 and 5, solution: x < -2 or x > 5",
                        topic: "Quadratic inequalities"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Find the sum of the first 20 terms of the AP: 2, 5, 8, 11, ...",
                        mathExpression: "S₂₀ of AP: 2, 5, 8, 11, ...",
                        options: [
                            "590",
                            "610",
                            "630",
                            "650"
                        ],
                        correct: 1,
                        explanation: "a=2, d=3, Sₙ = n/2[2a+(n-1)d] = 20/2[4+19×3] = 10[4+57] = 10×61 = 610",
                        topic: "Arithmetic progression"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Find the inverse of the matrix:",
                        mathExpression: "[1 2; 3 4]⁻¹",
                        options: [
                            "[-2 1; 1.5 -0.5]",
                            "[4 -2; -3 1]",
                            "[-2 1; 3 -1]",
                            "[4 -2; -3 1] divided by -2"
                        ],
                        correct: 3,
                        explanation: "Inverse = 1/(ad-bc) × [d -b; -c a] = 1/(4-6) × [4 -2; -3 1] = -½[4 -2; -3 1]",
                        topic: "Matrix inverse"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Convert 47₁₀ to base 2:",
                        mathExpression: "47₁₀ = ?₂",
                        options: [
                            "101111",
                            "101111",
                            "101111",
                            "101111"
                        ],
                        correct: 0,
                        explanation: "47 ÷ 2 = 23 r1, 23 ÷ 2 = 11 r1, 11 ÷ 2 = 5 r1, 5 ÷ 2 = 2 r1, 2 ÷ 2 = 1 r0, 1 ÷ 2 = 0 r1 → 101111₂",
                        topic: "Number bases"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Simplify: log₁₀8 + log₁₀125",
                        mathExpression: "log₁₀8 + log₁₀125",
                        options: [
                            "2",
                            "3",
                            "4",
                            "5"
                        ],
                        correct: 1,
                        explanation: "log₁₀8 + log₁₀125 = log₁₀(8×125) = log₁₀1000 = 3",
                        topic: "Logarithms"
                    },
                    {
                        year: "JAMB 2024",
                        text: "If A = {1,2,3,4} and B = {3,4,5,6}, find A∩B:",
                        mathExpression: "A∩B = ?",
                        options: [
                            "{3,4}",
                            "{1,2,5,6}",
                            "{1,2,3,4,5,6}",
                            "∅"
                        ],
                        correct: 0,
                        explanation: "Intersection contains elements common to both sets = {3,4}",
                        topic: "Set operations"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Factorize: 8x³ + 27y³",
                        mathExpression: "8x³ + 27y³",
                        options: [
                            "(2x+3y)(4x²-6xy+9y²)",
                            "(2x-3y)(4x²+6xy+9y²)",
                            "(2x+3y)(4x²+6xy+9y²)",
                            "(2x-3y)(4x²-6xy+9y²)"
                        ],
                        correct: 0,
                        explanation: "Sum of cubes formula: a³+b³ = (a+b)(a²-ab+b²), here a=2x, b=3y",
                        topic: "Factorization"
                    },
                    {
                        year: "JAMB 2020",
                        text: "If y ∝ x² and y = 12 when x = 2, find y when x = 4:",
                        mathExpression: "y ∝ x²",
                        options: [
                            "24",
                            "36",
                            "48",
                            "96"
                        ],
                        correct: 2,
                        explanation: "y = kx², 12 = k×4 ⇒ k = 3, y = 3×16 = 48",
                        topic: "Direct variation"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Solve: 2x + 5 ≥ 3x - 2",
                        mathExpression: "2x + 5 ≥ 3x - 2",
                        options: [
                            "x ≤ 7",
                            "x ≥ 7",
                            "x ≤ -7",
                            "x ≥ -7"
                        ],
                        correct: 0,
                        explanation: "2x + 5 ≥ 3x - 2 ⇒ 5+2 ≥ 3x-2x ⇒ 7 ≥ x or x ≤ 7",
                        topic: "Linear inequalities"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Find the sum to infinity of the GP: 16, 4, 1, ¼, ...",
                        mathExpression: "GP: 16, 4, 1, ¼, ...",
                        options: [
                            "64/3",
                            "21",
                            "22",
                            "64"
                        ],
                        correct: 0,
                        explanation: "a=16, r=¼, S∞ = a/(1-r) = 16/(1-¼) = 16/(¾) = 64/3",
                        topic: "Geometric progression"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Evaluate: 1011₂ + 1101₂",
                        mathExpression: "1011₂ + 1101₂",
                        options: [
                            "11000₂",
                            "10100₂",
                            "10010₂",
                            "11110₂"
                        ],
                        correct: 0,
                        explanation: "1011₂ (11) + 1101₂ (13) = 24 = 11000₂",
                        topic: "Binary operations"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Find x if the determinant of the matrix is 10:",
                        mathExpression: "det [2x 3; 4 1] = 10",
                        options: [
                            "2",
                            "3",
                            "4",
                            "5"
                        ],
                        correct: 0,
                        explanation: "(2x×1) - (3×4) = 10 ⇒ 2x - 12 = 10 ⇒ 2x = 22 ⇒ x = 11",
                        topic: "Determinants"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Express 3/8 as a percentage:",
                        mathExpression: "3/8 = ?%",
                        options: [
                            "37.5%",
                            "38%",
                            "40%",
                            "42.5%"
                        ],
                        correct: 0,
                        explanation: "3/8 = 0.375 = 37.5%",
                        topic: "Percentages"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Rationalize: 1/(√3 - √2)",
                        mathExpression: "1/(√3 - √2)",
                        options: [
                            "√3 + √2",
                            "√3 - √2",
                            "(√3 + √2)/5",
                            "√3 + √2"
                        ],
                        correct: 0,
                        explanation: "Multiply numerator and denominator by conjugate (√3+√2): (√3+√2)/(3-2) = √3+√2",
                        topic: "Surds"
                    },
                    {
                        year: "JAMB 2021",
                        text: "If logₐ3 = 0.4771, find logₐ9:",
                        mathExpression: "logₐ9 = ?",
                        options: [
                            "0.9542",
                            "0.9771",
                            "1.4313",
                            "1.4771"
                        ],
                        correct: 0,
                        explanation: "logₐ9 = logₐ3² = 2logₐ3 = 2×0.4771 = 0.9542",
                        topic: "Logarithms"
                    },
                    {
                        year: "JAMB 2022",
                        text: "In a Venn diagram, if n(A) = 15, n(B) = 20, n(A∩B) = 5, find n(A∪B):",
                        mathExpression: "n(A∪B) = ?",
                        options: [
                            "25",
                            "30",
                            "35",
                            "40"
                        ],
                        correct: 1,
                        explanation: "n(A∪B) = n(A) + n(B) - n(A∩B) = 15 + 20 - 5 = 30",
                        topic: "Venn diagrams"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Solve the simultaneous equations: x + y = 5, x² + y² = 13",
                        mathExpression: "x + y = 5, x² + y² = 13",
                        options: [
                            "(2,3) and (3,2)",
                            "(1,4) and (4,1)",
                            "(0,5) and (5,0)",
                            "No solution"
                        ],
                        correct: 0,
                        explanation: "From first: y = 5-x. Substitute: x² + (5-x)² = 13 ⇒ x² + 25 -10x + x² = 13 ⇒ 2x² -10x + 12 = 0 ⇒ x² -5x + 6 = 0 ⇒ (x-2)(x-3)=0 ⇒ x=2,3; y=3,2",
                        topic: "Simultaneous equations"
                    },
                    {
                        year: "JAMB 2024",
                        text: "If p varies jointly as q and r, and p=12 when q=2 and r=3, find p when q=3 and r=4:",
                        mathExpression: "p ∝ qr",
                        options: [
                            "18",
                            "20",
                            "22",
                            "24"
                        ],
                        correct: 3,
                        explanation: "p = kqr, 12 = k×2×3 ⇒ k = 2, p = 2×3×4 = 24",
                        topic: "Joint variation"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Solve: x² - 4x ≤ 0",
                        mathExpression: "x² - 4x ≤ 0",
                        options: [
                            "0 ≤ x ≤ 4",
                            "x ≤ 0 or x ≥ 4",
                            "-4 ≤ x ≤ 0",
                            "x ≤ -4 or x ≥ 0"
                        ],
                        correct: 0,
                        explanation: "x(x-4) ≤ 0 ⇒ critical points 0 and 4, solution: 0 ≤ x ≤ 4",
                        topic: "Quadratic inequalities"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Find the 5th term of the GP: 2, 6, 18, ...",
                        mathExpression: "GP: 2, 6, 18, ...",
                        options: [
                            "54",
                            "108",
                            "162",
                            "324"
                        ],
                        correct: 2,
                        explanation: "a=2, r=3, Tₙ = arⁿ⁻¹, T₅ = 2×3⁴ = 2×81 = 162",
                        topic: "Geometric progression"
                    },
                    {
                        year: "JAMB 2021",
                        text: "If a⊕b = a² + b², find 3⊕4:",
                        mathExpression: "a⊕b = a² + b²",
                        options: [
                            "7",
                            "12",
                            "25",
                            "49"
                        ],
                        correct: 2,
                        explanation: "3⊕4 = 3² + 4² = 9 + 16 = 25",
                        topic: "Binary operations"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Multiply matrices:",
                        mathExpression: "[1 2; 3 4] × [3; 4]",
                        options: [
                            "[11; 25]",
                            "[25; 11]",
                            "[10; 24]",
                            "[24; 10]"
                        ],
                        correct: 0,
                        explanation: "[1×3+2×4; 3×3+4×4] = [3+8; 9+16] = [11; 25]",
                        topic: "Matrix multiplication"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Express 275 in base 5:",
                        mathExpression: "275₁₀ = ?₅",
                        options: [
                            "2100₅",
                            "2010₅",
                            "2001₅",
                            "2101₅"
                        ],
                        correct: 0,
                        explanation: "275 ÷ 5 = 55 r0, 55 ÷ 5 = 11 r0, 11 ÷ 5 = 2 r1, 2 ÷ 5 = 0 r2 → 2100₅",
                        topic: "Number bases"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Simplify: log₂16 + log₂8 - log₂4",
                        mathExpression: "log₂16 + log₂8 - log₂4",
                        options: [
                            "3",
                            "4",
                            "5",
                            "6"
                        ],
                        correct: 2,
                        explanation: "log₂16 = 4, log₂8 = 3, log₂4 = 2, 4+3-2 = 5",
                        topic: "Logarithms"
                    },
                    {
                        year: "JAMB 2019",
                        text: "In a class of 40 students, 25 study Physics, 20 study Chemistry, and 8 study both. How many study neither?",
                        mathExpression: "n(P)=25, n(C)=20, n(P∩C)=8, n(U)=40",
                        options: [
                            "3",
                            "5",
                            "7",
                            "9"
                        ],
                        correct: 0,
                        explanation: "n(P∪C) = 25+20-8 = 37, neither = 40-37 = 3",
                        topic: "Set applications"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Factorize: x³ - 8",
                        mathExpression: "x³ - 8",
                        options: [
                            "(x-2)(x²+2x+4)",
                            "(x+2)(x²-2x+4)",
                            "(x-2)(x²-2x+4)",
                            "(x+2)(x²+2x+4)"
                        ],
                        correct: 0,
                        explanation: "Difference of cubes: a³-b³ = (a-b)(a²+ab+b²), here a=x, b=2",
                        topic: "Factorization"
                    },
                    {
                        year: "JAMB 2021",
                        text: "If y varies inversely as the square of x and y = 4 when x = 2, find y when x = 4:",
                        mathExpression: "y ∝ 1/x²",
                        options: [
                            "1",
                            "2",
                            "3",
                            "4"
                        ],
                        correct: 0,
                        explanation: "y = k/x², 4 = k/4 ⇒ k = 16, y = 16/16 = 1",
                        topic: "Inverse variation"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Solve: |2x - 3| < 5",
                        mathExpression: "|2x - 3| < 5",
                        options: [
                            "-1 < x < 4",
                            "x < -1 or x > 4",
                            "-4 < x < 1",
                            "x < -4 or x > 1"
                        ],
                        correct: 0,
                        explanation: "-5 < 2x-3 < 5 ⇒ -2 < 2x < 8 ⇒ -1 < x < 4",
                        topic: "Absolute value inequalities"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Find the sum of the first 10 terms of: 1 + 2 + 4 + 8 + ...",
                        mathExpression: "1 + 2 + 4 + 8 + ... (10 terms)",
                        options: [
                            "511",
                            "1023",
                            "1024",
                            "2047"
                        ],
                        correct: 1,
                        explanation: "GP with a=1, r=2, S₁₀ = a(rⁿ-1)/(r-1) = 1(2¹⁰-1)/(2-1) = 1024-1 = 1023",
                        topic: "Geometric series"
                    },
                    {
                        year: "JAMB 2024",
                        text: "If * is defined by a*b = 2a + 3b, find the identity element:",
                        mathExpression: "a*b = 2a + 3b",
                        options: [
                            "0",
                            "1",
                            "No identity element",
                            "Depends on a and b"
                        ],
                        correct: 2,
                        explanation: "For identity e, a*e = a ⇒ 2a + 3e = a ⇒ 3e = -a ⇒ e = -a/3 (not constant)",
                        topic: "Binary operations"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Find the inverse of the matrix:",
                        mathExpression: "[2 1; 5 3]⁻¹",
                        options: [
                            "[3 -1; -5 2]",
                            "[-3 1; 5 -2]",
                            "[3 1; 5 2] divided by 6",
                            "[3 -5; -1 2]"
                        ],
                        correct: 0,
                        explanation: "det = 6-5=1, inverse = [3 -1; -5 2]",
                        topic: "Matrix inverse"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Convert 0.125 to a fraction in its lowest terms:",
                        mathExpression: "0.125 = ?",
                        options: [
                            "1/8",
                            "1/4",
                            "1/5",
                            "1/6"
                        ],
                        correct: 0,
                        explanation: "0.125 = 125/1000 = 1/8",
                        topic: "Fractions"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Simplify: (√3 + √2)²",
                        mathExpression: "(√3 + √2)²",
                        options: [
                            "5 + 2√6",
                            "5 + √6",
                            "3 + 2√6",
                            "3 + √6"
                        ],
                        correct: 0,
                        explanation: "(√3)² + 2(√3)(√2) + (√2)² = 3 + 2√6 + 2 = 5 + 2√6",
                        topic: "Surds"
                    },
                    {
                        year: "JAMB 2022",
                        text: "If log₅2 = 0.4307, find log₅50:",
                        mathExpression: "log₅50 = ?",
                        options: [
                            "1.4307",
                            "2.4307",
                            "2.8614",
                            "3.4307"
                        ],
                        correct: 1,
                        explanation: "log₅50 = log₅(25×2) = log₅25 + log₅2 = 2 + 0.4307 = 2.4307",
                        topic: "Logarithms"
                    },
                    {
                        year: "JAMB 2023",
                        text: "In a survey of 100 students, 60 like football, 50 like basketball, and 20 like both. How many like neither?",
                        mathExpression: "n(F)=60, n(B)=50, n(F∩B)=20, n(U)=100",
                        options: [
                            "10",
                            "15",
                            "20",
                            "25"
                        ],
                        correct: 0,
                        explanation: "n(F∪B) = 60+50-20 = 90, neither = 100-90 = 10",
                        topic: "Set applications"
                    }
                ]
            },
            2: {
                title: "Geometry & Trigonometry",
                questions: [
                    {
                        year: "JAMB 2020",
                        text: "In a triangle ABC, angle A = 60°, angle B = 45°, find angle C:",
                        mathExpression: "∠A = 60°, ∠B = 45°, ∠C = ?",
                        options: [
                            "65°",
                            "70°",
                            "75°",
                            "80°"
                        ],
                        correct: 2,
                        explanation: "Sum of angles = 180°, ∠C = 180° - (60° + 45°) = 75°",
                        topic: "Triangle properties"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Find the area of a circle with radius 7cm (take π = 22/7):",
                        mathExpression: "A = πr², r = 7cm",
                        options: [
                            "154 cm²",
                            "154 cm²",
                            "154 cm²",
                            "154 cm²"
                        ],
                        correct: 0,
                        explanation: "A = (22/7) × 7² = (22/7) × 49 = 22 × 7 = 154 cm²",
                        topic: "Circle area"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Find the length of arc of a circle of radius 14cm subtending an angle of 90° (π = 22/7):",
                        mathExpression: "Arc length = (θ/360) × 2πr",
                        options: [
                            "22 cm",
                            "44 cm",
                            "66 cm",
                            "88 cm"
                        ],
                        correct: 0,
                        explanation: "Arc length = (90/360) × 2 × (22/7) × 14 = (1/4) × 2 × 22 × 2 = 22 cm",
                        topic: "Arc length"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Find the gradient of the line passing through points (2,3) and (5,9):",
                        mathExpression: "m = (y₂ - y₁)/(x₂ - x₁)",
                        options: [
                            "2",
                            "3",
                            "4",
                            "5"
                        ],
                        correct: 0,
                        explanation: "m = (9-3)/(5-2) = 6/3 = 2",
                        topic: "Coordinate geometry"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Find sin 30°:",
                        mathExpression: "sin 30° = ?",
                        options: [
                            "1/2",
                            "√3/2",
                            "1/√2",
                            "√3/3"
                        ],
                        correct: 0,
                        explanation: "sin 30° = 1/2",
                        topic: "Trigonometric ratios"
                    },
                    {
                        year: "JAMB 2019",
                        text: "A ladder 10m long leans against a wall. If the foot of the ladder is 6m from the wall, how high up the wall does it reach?",
                        mathExpression: "h = √(10² - 6²)",
                        options: [
                            "8 m",
                            "9 m",
                            "10 m",
                            "11 m"
                        ],
                        correct: 0,
                        explanation: "Using Pythagoras: h = √(10² - 6²) = √(100 - 36) = √64 = 8 m",
                        topic: "Pythagoras theorem"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Find the volume of a cylinder with radius 7cm and height 10cm (π = 22/7):",
                        mathExpression: "V = πr²h",
                        options: [
                            "1540 cm³",
                            "1540 cm³",
                            "1540 cm³",
                            "1540 cm³"
                        ],
                        correct: 0,
                        explanation: "V = (22/7) × 7² × 10 = (22/7) × 49 × 10 = 22 × 7 × 10 = 1540 cm³",
                        topic: "Volume of cylinder"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Find the bearing of B from A if A is due north of B:",
                        mathExpression: "Bearing from A to B",
                        options: [
                            "000°",
                            "090°",
                            "180°",
                            "270°"
                        ],
                        correct: 2,
                        explanation: "If A is north of B, then B is south of A, bearing = 180°",
                        topic: "Bearings"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Find the midpoint of the line joining (1,2) and (5,8):",
                        mathExpression: "Midpoint = ((x₁+x₂)/2, (y₁+y₂)/2)",
                        options: [
                            "(3,5)",
                            "(3,5)",
                            "(3,5)",
                            "(3,5)"
                        ],
                        correct: 0,
                        explanation: "Midpoint = ((1+5)/2, (2+8)/2) = (6/2, 10/2) = (3,5)",
                        topic: "Midpoint formula"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Find cos 60°:",
                        mathExpression: "cos 60° = ?",
                        options: [
                            "1/2",
                            "√3/2",
                            "1/√2",
                            "√3/3"
                        ],
                        correct: 0,
                        explanation: "cos 60° = 1/2",
                        topic: "Trigonometric ratios"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Find the area of a triangle with base 10cm and height 6cm:",
                        mathExpression: "A = ½ × base × height",
                        options: [
                            "30 cm²",
                            "30 cm²",
                            "30 cm²",
                            "30 cm²"
                        ],
                        correct: 0,
                        explanation: "A = ½ × 10 × 6 = 30 cm²",
                        topic: "Triangle area"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Find the distance between points (1,2) and (4,6):",
                        mathExpression: "d = √[(x₂-x₁)² + (y₂-y₁)²]",
                        options: [
                            "5",
                            "5",
                            "5",
                            "5"
                        ],
                        correct: 0,
                        explanation: "d = √[(4-1)² + (6-2)²] = √[3² + 4²] = √[9+16] = √25 = 5",
                        topic: "Distance formula"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Find tan 45°:",
                        mathExpression: "tan 45° = ?",
                        options: [
                            "1",
                            "√3",
                            "1/√3",
                            "√3/2"
                        ],
                        correct: 0,
                        explanation: "tan 45° = 1",
                        topic: "Trigonometric ratios"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Find the surface area of a cube with edge 5cm:",
                        mathExpression: "SA = 6a²",
                        options: [
                            "150 cm²",
                            "150 cm²",
                            "150 cm²",
                            "150 cm²"
                        ],
                        correct: 0,
                        explanation: "SA = 6 × 5² = 6 × 25 = 150 cm²",
                        topic: "Surface area"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Find the equation of line with gradient 2 passing through (1,3):",
                        mathExpression: "y - y₁ = m(x - x₁)",
                        options: [
                            "y = 2x + 1",
                            "y = 2x - 1",
                            "y = 2x + 3",
                            "y = 2x - 3"
                        ],
                        correct: 0,
                        explanation: "y - 3 = 2(x - 1) ⇒ y - 3 = 2x - 2 ⇒ y = 2x + 1",
                        topic: "Equation of line"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Find sin 60°:",
                        mathExpression: "sin 60° = ?",
                        options: [
                            "√3/2",
                            "1/2",
                            "1/√2",
                            "√3/3"
                        ],
                        correct: 0,
                        explanation: "sin 60° = √3/2",
                        topic: "Trigonometric ratios"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Find the perimeter of a rectangle with length 8cm and width 5cm:",
                        mathExpression: "P = 2(l + w)",
                        options: [
                            "26 cm",
                            "26 cm",
                            "26 cm",
                            "26 cm"
                        ],
                        correct: 0,
                        explanation: "P = 2(8 + 5) = 2 × 13 = 26 cm",
                        topic: "Perimeter"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Find the volume of a sphere with radius 7cm (π = 22/7):",
                        mathExpression: "V = (4/3)πr³",
                        options: [
                            "1437.33 cm³",
                            "1437.33 cm³",
                            "1437.33 cm³",
                            "1437.33 cm³"
                        ],
                        correct: 0,
                        explanation: "V = (4/3) × (22/7) × 7³ = (4/3) × (22/7) × 343 = (4/3) × 22 × 49 = (4/3) × 1078 = 1437.33 cm³",
                        topic: "Volume of sphere"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Find the gradient of line perpendicular to y = 3x + 2:",
                        mathExpression: "m₁ × m₂ = -1",
                        options: [
                            "-1/3",
                            "-1/3",
                            "-1/3",
                            "-1/3"
                        ],
                        correct: 0,
                        explanation: "Gradient of given line = 3, perpendicular gradient = -1/3",
                        topic: "Perpendicular lines"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Find cos 30°:",
                        mathExpression: "cos 30° = ?",
                        options: [
                            "√3/2",
                            "1/2",
                            "1/√2",
                            "√3/3"
                        ],
                        correct: 0,
                        explanation: "cos 30° = √3/2",
                        topic: "Trigonometric ratios"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Find the area of a trapezium with parallel sides 8cm and 12cm, and height 5cm:",
                        mathExpression: "A = ½(a+b)h",
                        options: [
                            "50 cm²",
                            "50 cm²",
                            "50 cm²",
                            "50 cm²"
                        ],
                        correct: 0,
                        explanation: "A = ½(8+12)×5 = ½×20×5 = 10×5 = 50 cm²",
                        topic: "Area of trapezium"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Find the bearing of A from B if B is due east of A:",
                        mathExpression: "Bearing from B to A",
                        options: [
                            "270°",
                            "090°",
                            "180°",
                            "000°"
                        ],
                        correct: 0,
                        explanation: "If B is east of A, then A is west of B, bearing = 270°",
                        topic: "Bearings"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Find the distance between (0,0) and (3,4):",
                        mathExpression: "d = √(x² + y²)",
                        options: [
                            "5",
                            "5",
                            "5",
                            "5"
                        ],
                        correct: 0,
                        explanation: "d = √(3² + 4²) = √(9+16) = √25 = 5",
                        topic: "Distance from origin"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Find tan 30°:",
                        mathExpression: "tan 30° = ?",
                        options: [
                            "1/√3",
                            "√3",
                            "1",
                            "√3/2"
                        ],
                        correct: 0,
                        explanation: "tan 30° = 1/√3",
                        topic: "Trigonometric ratios"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Find the circumference of a circle with diameter 14cm (π = 22/7):",
                        mathExpression: "C = πd",
                        options: [
                            "44 cm",
                            "44 cm",
                            "44 cm",
                            "44 cm"
                        ],
                        correct: 0,
                        explanation: "C = (22/7) × 14 = 22 × 2 = 44 cm",
                        topic: "Circumference"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Find the equation of line parallel to y = 2x + 3 passing through (0,5):",
                        mathExpression: "Parallel lines have equal gradients",
                        options: [
                            "y = 2x + 5",
                            "y = 2x - 5",
                            "y = -2x + 5",
                            "y = (1/2)x + 5"
                        ],
                        correct: 0,
                        explanation: "Parallel gradient = 2, equation: y - 5 = 2(x - 0) ⇒ y = 2x + 5",
                        topic: "Parallel lines"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Find sin 45°:",
                        mathExpression: "sin 45° = ?",
                        options: [
                            "1/√2",
                            "1/2",
                            "√3/2",
                            "1"
                        ],
                        correct: 0,
                        explanation: "sin 45° = 1/√2",
                        topic: "Trigonometric ratios"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Find the area of a parallelogram with base 10cm and height 7cm:",
                        mathExpression: "A = base × height",
                        options: [
                            "70 cm²",
                            "70 cm²",
                            "70 cm²",
                            "70 cm²"
                        ],
                        correct: 0,
                        explanation: "A = 10 × 7 = 70 cm²",
                        topic: "Area of parallelogram"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Find the midpoint of (0,0) and (8,6):",
                        mathExpression: "Midpoint = ((0+8)/2, (0+6)/2)",
                        options: [
                            "(4,3)",
                            "(4,3)",
                            "(4,3)",
                            "(4,3)"
                        ],
                        correct: 0,
                        explanation: "Midpoint = (4, 3)",
                        topic: "Midpoint formula"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Find cos 45°:",
                        mathExpression: "cos 45° = ?",
                        options: [
                            "1/√2",
                            "1/2",
                            "√3/2",
                            "1"
                        ],
                        correct: 0,
                        explanation: "cos 45° = 1/√2",
                        topic: "Trigonometric ratios"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Find the volume of a cone with radius 7cm and height 12cm (π = 22/7):",
                        mathExpression: "V = (1/3)πr²h",
                        options: [
                            "616 cm³",
                            "616 cm³",
                            "616 cm³",
                            "616 cm³"
                        ],
                        correct: 0,
                        explanation: "V = (1/3) × (22/7) × 7² × 12 = (1/3) × 22 × 7 × 12 = 22 × 7 × 4 = 616 cm³",
                        topic: "Volume of cone"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Find the gradient of line joining (2,2) and (5,8):",
                        mathExpression: "m = (8-2)/(5-2)",
                        options: [
                            "2",
                            "2",
                            "2",
                            "2"
                        ],
                        correct: 0,
                        explanation: "m = 6/3 = 2",
                        topic: "Gradient"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Find tan 60°:",
                        mathExpression: "tan 60° = ?",
                        options: [
                            "√3",
                            "1/√3",
                            "1",
                            "2"
                        ],
                        correct: 0,
                        explanation: "tan 60° = √3",
                        topic: "Trigonometric ratios"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Find the area of a sector of circle radius 14cm with angle 60° (π = 22/7):",
                        mathExpression: "Area = (θ/360) × πr²",
                        options: [
                            "102.67 cm²",
                            "102.67 cm²",
                            "102.67 cm²",
                            "102.67 cm²"
                        ],
                        correct: 0,
                        explanation: "Area = (60/360) × (22/7) × 14² = (1/6) × (22/7) × 196 = (1/6) × 22 × 28 = (1/6) × 616 = 102.67 cm²",
                        topic: "Area of sector"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Find the distance between (-1,2) and (3,5):",
                        mathExpression: "d = √[(3-(-1))² + (5-2)²]",
                        options: [
                            "5",
                            "5",
                            "5",
                            "5"
                        ],
                        correct: 0,
                        explanation: "d = √[4² + 3²] = √[16+9] = √25 = 5",
                        topic: "Distance formula"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Find sin 90°:",
                        mathExpression: "sin 90° = ?",
                        options: [
                            "1",
                            "0",
                            "1/2",
                            "√3/2"
                        ],
                        correct: 0,
                        explanation: "sin 90° = 1",
                        topic: "Trigonometric ratios"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Find the surface area of a cylinder with radius 7cm and height 10cm (π = 22/7):",
                        mathExpression: "SA = 2πr(r+h)",
                        options: [
                            "748 cm²",
                            "748 cm²",
                            "748 cm²",
                            "748 cm²"
                        ],
                        correct: 0,
                        explanation: "SA = 2 × (22/7) × 7 × (7+10) = 2 × 22 × 17 = 748 cm²",
                        topic: "Surface area of cylinder"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Find the equation of x-axis:",
                        mathExpression: "Equation of x-axis",
                        options: [
                            "y = 0",
                            "x = 0",
                            "y = x",
                            "y = 1"
                        ],
                        correct: 0,
                        explanation: "x-axis has equation y = 0",
                        topic: "Coordinate axes"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Find cos 90°:",
                        mathExpression: "cos 90° = ?",
                        options: [
                            "0",
                            "1",
                            "1/2",
                            "√3/2"
                        ],
                        correct: 0,
                        explanation: "cos 90° = 0",
                        topic: "Trigonometric ratios"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Find the perimeter of a triangle with sides 3cm, 4cm, 5cm:",
                        mathExpression: "P = a + b + c",
                        options: [
                            "12 cm",
                            "12 cm",
                            "12 cm",
                            "12 cm"
                        ],
                        correct: 0,
                        explanation: "P = 3 + 4 + 5 = 12 cm",
                        topic: "Perimeter"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Find the midpoint of (-2,3) and (4,7):",
                        mathExpression: "Midpoint = ((-2+4)/2, (3+7)/2)",
                        options: [
                            "(1,5)",
                            "(1,5)",
                            "(1,5)",
                            "(1,5)"
                        ],
                        correct: 0,
                        explanation: "Midpoint = (1, 5)",
                        topic: "Midpoint formula"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Find tan 90°:",
                        mathExpression: "tan 90° = ?",
                        options: [
                            "Undefined",
                            "0",
                            "1",
                            "∞"
                        ],
                        correct: 0,
                        explanation: "tan 90° = sin90°/cos90° = 1/0 = undefined",
                        topic: "Trigonometric ratios"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Find the volume of a cuboid with dimensions 5cm × 4cm × 3cm:",
                        mathExpression: "V = l × w × h",
                        options: [
                            "60 cm³",
                            "60 cm³",
                            "60 cm³",
                            "60 cm³"
                        ],
                        correct: 0,
                        explanation: "V = 5 × 4 × 3 = 60 cm³",
                        topic: "Volume of cuboid"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Find the gradient of y-axis:",
                        mathExpression: "Gradient of y-axis",
                        options: [
                            "Undefined",
                            "0",
                            "1",
                            "-1"
                        ],
                        correct: 0,
                        explanation: "y-axis is vertical line, gradient = undefined",
                        topic: "Gradient"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Find sin 0°:",
                        mathExpression: "sin 0° = ?",
                        options: [
                            "0",
                            "1",
                            "1/2",
                            "√3/2"
                        ],
                        correct: 0,
                        explanation: "sin 0° = 0",
                        topic: "Trigonometric ratios"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Find the area of a rhombus with diagonals 8cm and 6cm:",
                        mathExpression: "A = ½ × d₁ × d₂",
                        options: [
                            "24 cm²",
                            "24 cm²",
                            "24 cm²",
                            "24 cm²"
                        ],
                        correct: 0,
                        explanation: "A = ½ × 8 × 6 = 24 cm²",
                        topic: "Area of rhombus"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Find the distance between (a,b) and (c,d):",
                        mathExpression: "d = √[(c-a)² + (d-b)²]",
                        options: [
                            "√[(c-a)² + (d-b)²]",
                            "√[(c-a)² + (d-b)²]",
                            "√[(c-a)² + (d-b)²]",
                            "√[(c-a)² + (d-b)²]"
                        ],
                        correct: 0,
                        explanation: "Distance formula: d = √[(c-a)² + (d-b)²]",
                        topic: "Distance formula general"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Find cos 0°:",
                        mathExpression: "cos 0° = ?",
                        options: [
                            "1",
                            "0",
                            "1/2",
                            "√3/2"
                        ],
                        correct: 0,
                        explanation: "cos 0° = 1",
                        topic: "Trigonometric ratios"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Find the curved surface area of a cone with radius 7cm and slant height 10cm (π = 22/7):",
                        mathExpression: "CSA = πrl",
                        options: [
                            "220 cm²",
                            "220 cm²",
                            "220 cm²",
                            "220 cm²"
                        ],
                        correct: 0,
                        explanation: "CSA = (22/7) × 7 × 10 = 22 × 10 = 220 cm²",
                        topic: "Surface area of cone"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Find the equation of line through (1,2) and (3,4):",
                        mathExpression: "First find gradient, then use point-slope",
                        options: [
                            "y = x + 1",
                            "y = x - 1",
                            "y = 2x",
                            "y = 2x - 1"
                        ],
                        correct: 0,
                        explanation: "m = (4-2)/(3-1) = 2/2 = 1, y - 2 = 1(x-1) ⇒ y = x + 1",
                        topic: "Equation from two points"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Find sin 180°:",
                        mathExpression: "sin 180° = ?",
                        options: [
                            "0",
                            "1",
                            "-1",
                            "1/2"
                        ],
                        correct: 0,
                        explanation: "sin 180° = 0",
                        topic: "Trigonometric ratios"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Find the perimeter of a square with area 64 cm²:",
                        mathExpression: "Side = √64 = 8, P = 4×8",
                        options: [
                            "32 cm",
                            "32 cm",
                            "32 cm",
                            "32 cm"
                        ],
                        correct: 0,
                        explanation: "Side = √64 = 8 cm, P = 4 × 8 = 32 cm",
                        topic: "Perimeter from area"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Find the midpoint of (a,b) and (c,d):",
                        mathExpression: "Midpoint = ((a+c)/2, (b+d)/2)",
                        options: [
                            "((a+c)/2, (b+d)/2)",
                            "((a+c)/2, (b+d)/2)",
                            "((a+c)/2, (b+d)/2)",
                            "((a+c)/2, (b+d)/2)"
                        ],
                        correct: 0,
                        explanation: "Midpoint formula: ((a+c)/2, (b+d)/2)",
                        topic: "Midpoint formula general"
                    }
                ]
            },
            3: {
                title: "Calculus & Statistics",
                questions: [
                    {
                        year: "JAMB 2021",
                        text: "Differentiate y = x³ with respect to x:",
                        mathExpression: "dy/dx of x³",
                        options: [
                            "3x²",
                            "3x²",
                            "3x²",
                            "3x²"
                        ],
                        correct: 0,
                        explanation: "d/dx(xⁿ) = nxⁿ⁻¹, so d/dx(x³) = 3x²",
                        topic: "Differentiation"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Find the mean of 2, 4, 6, 8, 10:",
                        mathExpression: "Mean = sum/n",
                        options: [
                            "6",
                            "6",
                            "6",
                            "6"
                        ],
                        correct: 0,
                        explanation: "Sum = 30, n = 5, mean = 30/5 = 6",
                        topic: "Mean"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Integrate ∫2x dx:",
                        mathExpression: "∫2x dx",
                        options: [
                            "x² + C",
                            "x² + C",
                            "x² + C",
                            "x² + C"
                        ],
                        correct: 0,
                        explanation: "∫2x dx = 2 × (x²/2) + C = x² + C",
                        topic: "Integration"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Find the mode of 1, 2, 2, 3, 4, 4, 4, 5:",
                        mathExpression: "Mode = most frequent",
                        options: [
                            "4",
                            "4",
                            "4",
                            "4"
                        ],
                        correct: 0,
                        explanation: "4 appears 3 times, more than any other number",
                        topic: "Mode"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Differentiate y = sin x:",
                        mathExpression: "d/dx(sin x)",
                        options: [
                            "cos x",
                            "cos x",
                            "cos x",
                            "cos x"
                        ],
                        correct: 0,
                        explanation: "d/dx(sin x) = cos x",
                        topic: "Trigonometric differentiation"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Find the median of 3, 5, 1, 7, 9:",
                        mathExpression: "Arrange: 1,3,5,7,9",
                        options: [
                            "5",
                            "5",
                            "5",
                            "5"
                        ],
                        correct: 0,
                        explanation: "Arranged: 1,3,5,7,9, median = middle value = 5",
                        topic: "Median"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Find ∫cos x dx:",
                        mathExpression: "∫cos x dx",
                        options: [
                            "sin x + C",
                            "sin x + C",
                            "sin x + C",
                            "sin x + C"
                        ],
                        correct: 0,
                        explanation: "∫cos x dx = sin x + C",
                        topic: "Trigonometric integration"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Find the range of 4, 7, 2, 9, 5:",
                        mathExpression: "Range = max - min",
                        options: [
                            "7",
                            "7",
                            "7",
                            "7"
                        ],
                        correct: 0,
                        explanation: "Max = 9, min = 2, range = 9-2 = 7",
                        topic: "Range"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Differentiate y = eˣ:",
                        mathExpression: "d/dx(eˣ)",
                        options: [
                            "eˣ",
                            "eˣ",
                            "eˣ",
                            "eˣ"
                        ],
                        correct: 0,
                        explanation: "d/dx(eˣ) = eˣ",
                        topic: "Exponential differentiation"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Find the variance of 2, 4, 6, 8, 10:",
                        mathExpression: "Variance = Σ(x-μ)²/n",
                        options: [
                            "8",
                            "8",
                            "8",
                            "8"
                        ],
                        correct: 0,
                        explanation: "Mean = 6, deviations: -4,-2,0,2,4, squares: 16,4,0,4,16, sum=40, variance=40/5=8",
                        topic: "Variance"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Find ∫x² dx:",
                        mathExpression: "∫x² dx",
                        options: [
                            "x³/3 + C",
                            "x³/3 + C",
                            "x³/3 + C",
                            "x³/3 + C"
                        ],
                        correct: 0,
                        explanation: "∫x² dx = x³/3 + C",
                        topic: "Integration"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Find the standard deviation of 2, 4, 6, 8, 10:",
                        mathExpression: "σ = √variance",
                        options: [
                            "√8 ≈ 2.83",
                            "√8 ≈ 2.83",
                            "√8 ≈ 2.83",
                            "√8 ≈ 2.83"
                        ],
                        correct: 0,
                        explanation: "Variance = 8, standard deviation = √8 ≈ 2.83",
                        topic: "Standard deviation"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Differentiate y = ln x:",
                        mathExpression: "d/dx(ln x)",
                        options: [
                            "1/x",
                            "1/x",
                            "1/x",
                            "1/x"
                        ],
                        correct: 0,
                        explanation: "d/dx(ln x) = 1/x",
                        topic: "Logarithmic differentiation"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Find the mean deviation of 2, 4, 6, 8, 10:",
                        mathExpression: "Mean deviation = Σ|x-μ|/n",
                        options: [
                            "2.4",
                            "2.4",
                            "2.4",
                            "2.4"
                        ],
                        correct: 0,
                        explanation: "Mean = 6, |deviations|: 4,2,0,2,4, sum=12, mean deviation=12/5=2.4",
                        topic: "Mean deviation"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Find ∫eˣ dx:",
                        mathExpression: "∫eˣ dx",
                        options: [
                            "eˣ + C",
                            "eˣ + C",
                            "eˣ + C",
                            "eˣ + C"
                        ],
                        correct: 0,
                        explanation: "∫eˣ dx = eˣ + C",
                        topic: "Exponential integration"
                    },
                    {
                        year: "JAMB 2024",
                        text: "How many ways can 3 people be arranged in a line?",
                        mathExpression: "3! = ?",
                        options: [
                            "6",
                            "6",
                            "6",
                            "6"
                        ],
                        correct: 0,
                        explanation: "3! = 3×2×1 = 6",
                        topic: "Permutations"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Differentiate y = 5 (constant):",
                        mathExpression: "d/dx(5)",
                        options: [
                            "0",
                            "0",
                            "0",
                            "0"
                        ],
                        correct: 0,
                        explanation: "Derivative of constant is 0",
                        topic: "Differentiation of constant"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Find the probability of getting a head when tossing a fair coin:",
                        mathExpression: "P(head) = ?",
                        options: [
                            "1/2",
                            "1/2",
                            "1/2",
                            "1/2"
                        ],
                        correct: 0,
                        explanation: "Fair coin has 2 equally likely outcomes, P(head) = 1/2",
                        topic: "Probability"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Find ∫(3x² + 2x) dx:",
                        mathExpression: "∫(3x² + 2x) dx",
                        options: [
                            "x³ + x² + C",
                            "x³ + x² + C",
                            "x³ + x² + C",
                            "x³ + x² + C"
                        ],
                        correct: 0,
                        explanation: "∫3x² dx = x³, ∫2x dx = x², so x³ + x² + C",
                        topic: "Polynomial integration"
                    },
                    {
                        year: "JAMB 2022",
                        text: "How many ways can 2 items be chosen from 5?",
                        mathExpression: "C(5,2) = ?",
                        options: [
                            "10",
                            "10",
                            "10",
                            "10"
                        ],
                        correct: 0,
                        explanation: "C(5,2) = 5!/(2!3!) = (5×4)/(2×1) = 10",
                        topic: "Combinations"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Differentiate y = x² + 3x + 2:",
                        mathExpression: "d/dx(x² + 3x + 2)",
                        options: [
                            "2x + 3",
                            "2x + 3",
                            "2x + 3",
                            "2x + 3"
                        ],
                        correct: 0,
                        explanation: "d/dx(x²) = 2x, d/dx(3x) = 3, d/dx(2) = 0, sum = 2x + 3",
                        topic: "Polynomial differentiation"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Find the probability of getting an even number when rolling a fair die:",
                        mathExpression: "P(even) = ?",
                        options: [
                            "1/2",
                            "1/2",
                            "1/2",
                            "1/2"
                        ],
                        correct: 0,
                        explanation: "Even numbers: 2,4,6 (3 out of 6), P = 3/6 = 1/2",
                        topic: "Probability"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Find ∫sin x dx:",
                        mathExpression: "∫sin x dx",
                        options: [
                            "-cos x + C",
                            "-cos x + C",
                            "-cos x + C",
                            "-cos x + C"
                        ],
                        correct: 0,
                        explanation: "∫sin x dx = -cos x + C",
                        topic: "Trigonometric integration"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Find the median of 1, 3, 5, 7, 9, 11:",
                        mathExpression: "Even number of values",
                        options: [
                            "6",
                            "6",
                            "6",
                            "6"
                        ],
                        correct: 0,
                        explanation: "Middle values are 5 and 7, median = (5+7)/2 = 6",
                        topic: "Median for even n"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Differentiate y = √x:",
                        mathExpression: "d/dx(√x) = d/dx(x^{1/2})",
                        options: [
                            "1/(2√x)",
                            "1/(2√x)",
                            "1/(2√x)",
                            "1/(2√x)"
                        ],
                        correct: 0,
                        explanation: "√x = x^{1/2}, derivative = (1/2)x^{-1/2} = 1/(2√x)",
                        topic: "Differentiation of roots"
                    },
                    {
                        year: "JAMB 2022",
                        text: "How many 3-digit numbers can be formed from 1,2,3,4 without repetition?",
                        mathExpression: "P(4,3) = 4×3×2",
                        options: [
                            "24",
                            "24",
                            "24",
                            "24"
                        ],
                        correct: 0,
                        explanation: "4 choices for hundreds, 3 for tens, 2 for units: 4×3×2 = 24",
                        topic: "Permutations"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Find ∫(1/x) dx:",
                        mathExpression: "∫(1/x) dx",
                        options: [
                            "ln|x| + C",
                            "ln|x| + C",
                            "ln|x| + C",
                            "ln|x| + C"
                        ],
                        correct: 0,
                        explanation: "∫(1/x) dx = ln|x| + C",
                        topic: "Integration of 1/x"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Find the probability of drawing an ace from a standard deck of 52 cards:",
                        mathExpression: "P(ace) = ?",
                        options: [
                            "1/13",
                            "1/13",
                            "1/13",
                            "1/13"
                        ],
                        correct: 0,
                        explanation: "4 aces out of 52 cards, P = 4/52 = 1/13",
                        topic: "Card probability"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Differentiate y = 1/x:",
                        mathExpression: "d/dx(1/x) = d/dx(x^{-1})",
                        options: [
                            "-1/x²",
                            "-1/x²",
                            "-1/x²",
                            "-1/x²"
                        ],
                        correct: 0,
                        explanation: "1/x = x^{-1}, derivative = -x^{-2} = -1/x²",
                        topic: "Differentiation of 1/x"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Find the mode of 1, 2, 3, 3, 4, 5:",
                        mathExpression: "Mode = most frequent",
                        options: [
                            "3",
                            "3",
                            "3",
                            "3"
                        ],
                        correct: 0,
                        explanation: "3 appears twice, others appear once",
                        topic: "Mode"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Find ∫2 dx:",
                        mathExpression: "∫2 dx",
                        options: [
                            "2x + C",
                            "2x + C",
                            "2x + C",
                            "2x + C"
                        ],
                        correct: 0,
                        explanation: "∫2 dx = 2x + C",
                        topic: "Integration of constant"
                    },
                    {
                        year: "JAMB 2022",
                        text: "How many ways can 4 people sit around a circular table?",
                        mathExpression: "(n-1)! for circular",
                        options: [
                            "6",
                            "6",
                            "6",
                            "6"
                        ],
                        correct: 0,
                        explanation: "(4-1)! = 3! = 6",
                        topic: "Circular permutations"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Differentiate y = cos x:",
                        mathExpression: "d/dx(cos x)",
                        options: [
                            "-sin x",
                            "-sin x",
                            "-sin x",
                            "-sin x"
                        ],
                        correct: 0,
                        explanation: "d/dx(cos x) = -sin x",
                        topic: "Trigonometric differentiation"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Find the probability of getting a sum of 7 when rolling two dice:",
                        mathExpression: "P(sum=7) = ?",
                        options: [
                            "1/6",
                            "1/6",
                            "1/6",
                            "1/6"
                        ],
                        correct: 0,
                        explanation: "Ways to get 7: (1,6),(2,5),(3,4),(4,3),(5,2),(6,1) = 6 ways out of 36, P=6/36=1/6",
                        topic: "Probability with dice"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Find ∫sec² x dx:",
                        mathExpression: "∫sec² x dx",
                        options: [
                            "tan x + C",
                            "tan x + C",
                            "tan x + C",
                            "tan x + C"
                        ],
                        correct: 0,
                        explanation: "∫sec² x dx = tan x + C",
                        topic: "Trigonometric integration"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Find the range of 10, 15, 20, 25, 30:",
                        mathExpression: "Range = max - min",
                        options: [
                            "20",
                            "20",
                            "20",
                            "20"
                        ],
                        correct: 0,
                        explanation: "Max = 30, min = 10, range = 30-10 = 20",
                        topic: "Range"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Differentiate y = tan x:",
                        mathExpression: "d/dx(tan x)",
                        options: [
                            "sec² x",
                            "sec² x",
                            "sec² x",
                            "sec² x"
                        ],
                        correct: 0,
                        explanation: "d/dx(tan x) = sec² x",
                        topic: "Trigonometric differentiation"
                    },
                    {
                        year: "JAMB 2022",
                        text: "How many committees of 3 can be formed from 5 people?",
                        mathExpression: "C(5,3) = ?",
                        options: [
                            "10",
                            "10",
                            "10",
                            "10"
                        ],
                        correct: 0,
                        explanation: "C(5,3) = C(5,2) = 10",
                        topic: "Combinations"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Find ∫xⁿ dx (n ≠ -1):",
                        mathExpression: "∫xⁿ dx",
                        options: [
                            "xⁿ⁺¹/(n+1) + C",
                            "xⁿ⁺¹/(n+1) + C",
                            "xⁿ⁺¹/(n+1) + C",
                            "xⁿ⁺¹/(n+1) + C"
                        ],
                        correct: 0,
                        explanation: "∫xⁿ dx = xⁿ⁺¹/(n+1) + C, for n ≠ -1",
                        topic: "General integration"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Find the probability of drawing a red card from a standard deck:",
                        mathExpression: "P(red) = ?",
                        options: [
                            "1/2",
                            "1/2",
                            "1/2",
                            "1/2"
                        ],
                        correct: 0,
                        explanation: "26 red cards out of 52, P = 26/52 = 1/2",
                        topic: "Card probability"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Differentiate y = 3x⁴:",
                        mathExpression: "d/dx(3x⁴)",
                        options: [
                            "12x³",
                            "12x³",
                            "12x³",
                            "12x³"
                        ],
                        correct: 0,
                        explanation: "d/dx(3x⁴) = 3×4x³ = 12x³",
                        topic: "Differentiation with coefficient"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Find the mean of 10, 20, 30, 40, 50:",
                        mathExpression: "Mean = (10+20+30+40+50)/5",
                        options: [
                            "30",
                            "30",
                            "30",
                            "30"
                        ],
                        correct: 0,
                        explanation: "Sum = 150, n = 5, mean = 150/5 = 30",
                        topic: "Mean"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Find ∫(x³ + 2x² + x) dx:",
                        mathExpression: "∫(x³ + 2x² + x) dx",
                        options: [
                            "x⁴/4 + 2x³/3 + x²/2 + C",
                            "x⁴/4 + 2x³/3 + x²/2 + C",
                            "x⁴/4 + 2x³/3 + x²/2 + C",
                            "x⁴/4 + 2x³/3 + x²/2 + C"
                        ],
                        correct: 0,
                        explanation: "∫x³ dx = x⁴/4, ∫2x² dx = 2x³/3, ∫x dx = x²/2",
                        topic: "Polynomial integration"
                    },
                    {
                        year: "JAMB 2022",
                        text: "How many arrangements of letters in 'MATH'?",
                        mathExpression: "4! = ?",
                        options: [
                            "24",
                            "24",
                            "24",
                            "24"
                        ],
                        correct: 0,
                        explanation: "4 distinct letters, 4! = 24",
                        topic: "Permutations of letters"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Differentiate y = 4x³ - 3x² + 2x - 1:",
                        mathExpression: "d/dx(4x³ - 3x² + 2x - 1)",
                        options: [
                            "12x² - 6x + 2",
                            "12x² - 6x + 2",
                            "12x² - 6x + 2",
                            "12x² - 6x + 2"
                        ],
                        correct: 0,
                        explanation: "Term by term: 12x² - 6x + 2 - 0",
                        topic: "Polynomial differentiation"
                    },
                    {
                        year: "JAMB 2024",
                        text: "Find the probability of not getting a 6 when rolling a die:",
                        mathExpression: "P(not 6) = ?",
                        options: [
                            "5/6",
                            "5/6",
                            "5/6",
                            "5/6"
                        ],
                        correct: 0,
                        explanation: "P(6) = 1/6, P(not 6) = 1 - 1/6 = 5/6",
                        topic: "Complementary probability"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Find ∫(3x² + 4x + 5) dx:",
                        mathExpression: "∫(3x² + 4x + 5) dx",
                        options: [
                            "x³ + 2x² + 5x + C",
                            "x³ + 2x² + 5x + C",
                            "x³ + 2x² + 5x + C",
                            "x³ + 2x² + 5x + C"
                        ],
                        correct: 0,
                        explanation: "∫3x² dx = x³, ∫4x dx = 2x², ∫5 dx = 5x",
                        topic: "Polynomial integration"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Find the standard deviation of 1, 2, 3, 4, 5:",
                        mathExpression: "σ = √variance",
                        options: [
                            "√2 ≈ 1.414",
                            "√2 ≈ 1.414",
                            "√2 ≈ 1.414",
                            "√2 ≈ 1.414"
                        ],
                        correct: 0,
                        explanation: "Mean = 3, variance = (4+1+0+1+4)/5 = 10/5 = 2, σ = √2",
                        topic: "Standard deviation"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Differentiate y = (x+1)(x+2):",
                        mathExpression: "d/dx[(x+1)(x+2)]",
                        options: [
                            "2x + 3",
                            "2x + 3",
                            "2x + 3",
                            "2x + 3"
                        ],
                        correct: 0,
                        explanation: "Expand: x²+3x+2, derivative = 2x+3",
                        topic: "Differentiation of product"
                    },
                    {
                        year: "JAMB 2022",
                        text: "How many ways can 3 red and 2 blue balls be arranged in a line?",
                        mathExpression: "5!/(3!2!)",
                        options: [
                            "10",
                            "10",
                            "10",
                            "10"
                        ],
                        correct: 0,
                        explanation: "Total 5 items with 3 identical red and 2 identical blue: 5!/(3!2!) = 10",
                        topic: "Permutations with repetitions"
                    },
                    {
                        year: "JAMB 2023",
                        text: "Find ∫(1 + x + x²) dx:",
                        mathExpression: "∫(1 + x + x²) dx",
                        options: [
                            "x + x²/2 + x³/3 + C",
                            "x + x²/2 + x³/3 + C",
                            "x + x²/2 + x³/3 + C",
                            "x + x²/2 + x³/3 + C"
                        ],
                        correct: 0,
                        explanation: "∫1 dx = x, ∫x dx = x²/2, ∫x² dx = x³/3",
                        topic: "Polynomial integration"
                    },
                    {
                        year: "JAMB 2024",
                        text: "If P(A) = 0.3 and P(B) = 0.4, and A and B are independent, find P(A and B):",
                        mathExpression: "P(A∩B) for independent events",
                        options: [
                            "0.12",
                            "0.12",
                            "0.12",
                            "0.12"
                        ],
                        correct: 0,
                        explanation: "For independent events, P(A∩B) = P(A)×P(B) = 0.3×0.4 = 0.12",
                        topic: "Independent events"
                    }
                ]
            }
        };

        // App state
        let currentQuiz = 0;
        let currentQuestion = 0;
        let userAnswers = [];
        let quizStarted = false;

        // DOM elements
        const quizSelector = document.getElementById('quizSelector');
        const quizContainer = document.getElementById('quizContainer');
        const resultContainer = document.getElementById('resultContainer');
        const quizTitle = document.getElementById('quizTitle');
        const questionNumber = document.getElementById('questionNumber');
        const progressBar = document.getElementById('progressBar');
        const questionYear = document.getElementById('questionYear');
        const questionText = document.getElementById('questionText');
        const mathExpression = document.getElementById('mathExpression');
        const optionsContainer = document.getElementById('optionsContainer');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const submitBtn = document.getElementById('submitBtn');
        const returnBtn = document.getElementById('returnBtn');
        const returnToMenuBtn = document.getElementById('returnToMenuBtn');
        const resultTitle = document.getElementById('resultTitle');
        const scoreValue = document.getElementById('scoreValue');
        const strengthsList = document.getElementById('strengthsList');
        const weaknessesList = document.getElementById('weaknessesList');
        const feedbackContainer = document.getElementById('feedbackContainer');

        // Initialize the app
        function initApp() {
            // Add event listeners to quiz selection buttons
            document.querySelectorAll('.quiz-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const quizId = parseInt(btn.getAttribute('data-quiz'));
                    startQuiz(quizId);
                });
            });
            
            // Add event listeners to navigation buttons
            prevBtn.addEventListener('click', showPreviousQuestion);
            nextBtn.addEventListener('click', showNextQuestion);
            submitBtn.addEventListener('click', submitQuiz);
            returnBtn.addEventListener('click', returnToMenu);
            returnToMenuBtn.addEventListener('click', returnToMenu);
            
            // Initially show the quiz selector
            quizSelector.style.display = 'grid';
            quizContainer.style.display = 'none';
            resultContainer.style.display = 'none';
        }

        // Start a quiz
        function startQuiz(quizId) {
            currentQuiz = quizId;
            currentQuestion = 0;
            userAnswers = new Array(quizzes[quizId].questions.length).fill(null);
            quizStarted = true;
            
            // Update UI
            quizTitle.textContent = `Quiz ${quizId}: ${quizzes[quizId].title}`;
            quizSelector.style.display = 'none';
            quizContainer.style.display = 'block';
            resultContainer.style.display = 'none';
            
            // Show first question
            showQuestion();
        }

        // Display the current question
        function showQuestion() {
            const quiz = quizzes[currentQuiz];
            const question = quiz.questions[currentQuestion];
            
            // Update question info
            questionNumber.textContent = `Question ${currentQuestion + 1} of ${quiz.questions.length}`;
            questionYear.textContent = question.year;
            questionText.textContent = question.text;
            
            // Update math expression
            if (question.mathExpression) {
                mathExpression.style.display = 'block';
                let formattedExpression = formatMathExpression(question.mathExpression);
                
                // Check if it's a matrix expression
                if (question.mathExpression.includes('det') || question.mathExpression.includes('[')) {
                    // Handle matrix display
                    if (question.mathExpression.includes('[2 3; 1 4]')) {
                        mathExpression.innerHTML = 'det ' + createMatrixDisplay('[2 3; 1 4]');
                    } else if (question.mathExpression.includes('[1 2; 3 4]⁻¹')) {
                        mathExpression.innerHTML = createMatrixDisplay('[1 2; 3 4]') + '⁻¹';
                    } else if (question.mathExpression.includes('[2x 3; 4 1]')) {
                        mathExpression.innerHTML = 'det ' + createMatrixDisplay('[2x 3; 4 1]') + ' = 10';
                    } else if (question.mathExpression.includes('[1 2; 3 4] × [3; 4]')) {
                        mathExpression.innerHTML = createMatrixDisplay('[1 2; 3 4]') + ' × ' + createMatrixDisplay('[3; 4]');
                    } else if (question.mathExpression.includes('[2 1; 5 3]⁻¹')) {
                        mathExpression.innerHTML = createMatrixDisplay('[2 1; 5 3]') + '⁻¹';
                    } else {
                        mathExpression.innerHTML = formattedExpression;
                    }
                } else {
                    mathExpression.innerHTML = formattedExpression;
                }
            } else {
                mathExpression.style.display = 'none';
            }
            
            // Update progress bar
            const progress = ((currentQuestion + 1) / quiz.questions.length) * 100;
            progressBar.style.width = `${progress}%`;
            
            // Clear previous options
            optionsContainer.innerHTML = '';
            
            // Create new options
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                
                // Check if this option was previously selected
                if (userAnswers[currentQuestion] === index) {
                    optionElement.classList.add('selected');
                }
                
                optionElement.innerHTML = `
                    <div class="option-label">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(index));
                optionsContainer.appendChild(optionElement);
            });
            
            // Update button states
            prevBtn.disabled = currentQuestion === 0;
            nextBtn.style.display = currentQuestion < quiz.questions.length - 1 ? 'inline-block' : 'none';
            submitBtn.style.display = currentQuestion === quiz.questions.length - 1 ? 'inline-block' : 'none';
        }

        // Select an option for the current question
        function selectOption(optionIndex) {
            // Remove selected class from all options
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            document.querySelectorAll('.option')[optionIndex].classList.add('selected');
            
            // Save user's answer
            userAnswers[currentQuestion] = optionIndex;
        }

        // Show previous question
        function showPreviousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        }

        // Show next question
        function showNextQuestion() {
            const quiz = quizzes[currentQuiz];
            if (currentQuestion < quiz.questions.length - 1) {
                currentQuestion++;
                showQuestion();
            }
        }

        // Submit the quiz and show results
        function submitQuiz() {
            const quiz = quizzes[currentQuiz];
            let correctAnswers = 0;
            let topicPerformance = {};
            
            // Calculate results
            quiz.questions.forEach((question, index) => {
                if (userAnswers[index] === question.correct) {
                    correctAnswers++;
                    
                    // Track performance by topic
                    if (!topicPerformance[question.topic]) {
                        topicPerformance[question.topic] = { correct: 0, total: 0 };
                    }
                    topicPerformance[question.topic].correct++;
                }
                
                // Initialize topic tracking if not done
                if (!topicPerformance[question.topic]) {
                    topicPerformance[question.topic] = { correct: 0, total: 0 };
                }
                topicPerformance[question.topic].total++;
            });
            
            // Calculate percentage score
            const scorePercentage = Math.round((correctAnswers / quiz.questions.length) * 100);
            
            // Determine strengths and weaknesses
            const strengths = [];
            const weaknesses = [];
            
            for (const [topic, data] of Object.entries(topicPerformance)) {
                const topicScore = Math.round((data.correct / data.total) * 100);
                if (topicScore >= 70) {
                    strengths.push({ topic, score: topicScore });
                } else {
                    weaknesses.push({ topic, score: topicScore });
                }
            }
            
            // Sort strengths and weaknesses by score
            strengths.sort((a, b) => b.score - a.score);
            weaknesses.sort((a, b) => a.score - b.score);
            
            // Update result UI
            resultTitle.textContent = `Results: ${quizzes[currentQuiz].title}`;
            scoreValue.textContent = `${scorePercentage}%`;
            
            // Clear previous lists
            strengthsList.innerHTML = '';
            weaknessesList.innerHTML = '';
            
            // Add strengths
            strengths.forEach(item => {
                const li = document.createElement('li');
                li.innerHTML = `<span>${item.topic}</span><span class="topic-score">${item.score}%</span>`;
                strengthsList.appendChild(li);
            });
            
            // Add weaknesses
            weaknesses.forEach(item => {
                const li = document.createElement('li');
                li.innerHTML = `<span>${item.topic}</span><span class="topic-score">${item.score}%</span>`;
                weaknessesList.appendChild(li);
            });
            
            // Generate feedback
            generateFeedback(quiz);
            
            // Show results
            quizContainer.style.display = 'none';
            resultContainer.style.display = 'block';
        }

        // Generate detailed feedback for each question
        function generateFeedback(quiz) {
            feedbackContainer.innerHTML = '<h3 class="feedback-title">Question Feedback</h3>';
            
            quiz.questions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === question.correct;
                
                const feedbackItem = document.createElement('div');
                feedbackItem.className = 'feedback-item';
                
                let answerStatus = '';
                if (userAnswer === null) {
                    answerStatus = '<span class="feedback-incorrect">Not answered</span>';
                } else if (isCorrect) {
                    answerStatus = '<span class="feedback-correct">Correct</span>';
                } else {
                    answerStatus = '<span class="feedback-incorrect">Incorrect</span>';
                }
                
                feedbackItem.innerHTML = `
                    <div class="feedback-question">${index + 1}. ${question.text} (${question.year})</div>
                    <div class="feedback-answer">Your answer: ${userAnswer !== null ? question.options[userAnswer] : 'No answer'} ${answerStatus}</div>
                    <div class="feedback-answer">Correct answer: ${question.options[question.correct]}</div>
                    <div class="feedback-answer">Explanation: ${question.explanation}</div>
                    <div class="feedback-answer"><strong>Topic:</strong> ${question.topic}</div>
                `;
                
                feedbackContainer.appendChild(feedbackItem);
            });
        }

        // Return to the main menu
        function returnToMenu() {
            quizSelector.style.display = 'grid';
            quizContainer.style.display = 'none';
            resultContainer.style.display = 'none';
            quizStarted = false;
        }

        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>